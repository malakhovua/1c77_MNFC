// ===============================
Процедура ПриЗаписи()	// Предопределенная процедура
	Перем Описание;
	Перем ФлагОшибки;
	
	Описание = "Не заполнено поле ";
	                
	// изначально считаем, что не все обязательные поля заполнены
	ФлагОшибки = 1;
	
	// проверка обязательных полей
	Если ПустоеЗначение(Наименование) = 1 Тогда
	    Описание = Описание + "'Наименование'";
	Иначе
		// все обязательные поля заполнены
		ФлагОшибки = 0;
	КонецЕсли;
	
	Если ФлагОшибки=1 Тогда
		// не заполнено обязательное поле
		Предупреждение(Описание);
		СтатусВозврата(0);
	КонецЕсли;

	Если глЗаписьПериодическихРеквизитов(Контекст) = 0 Тогда
		СтатусВозврата(0);
		Возврат;
	КонецЕсли;	

КонецПроцедуры	// ПриЗаписи

Процедура ПоказатьИсторию()
	Если Выбран()=0 Тогда
	     Предупреждение("Историю периодических реквизитов можно" + РазделительСтрок +
		                          "смотреть только для сохраненного элемента");
		Возврат;
	КонецЕсли;

	глРедактироватьИсториюЗначений(Контекст,
	"",
	"История периодических реквизитов ("+ТекущийЭлемент()+")",1);
КонецПроцедуры // ПоказатьИсторию

Процедура ПриОткрытии()
	СохранениеПериодическихРеквизитов(2, "*");
КонецПроцедуры