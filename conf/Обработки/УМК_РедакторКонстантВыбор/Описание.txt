Форма ввода значения v 1.6

	Назначение:
Служебная обработка, используется как форма ввода значений
(в редакторах AttrDoc.ert, AttrSpr.ert, AttrJourn.ert).

	Возможности:
Позволяет ввести любое значение, а также сохранить его в файл.
Для строкового типа данных позволяет выбирать полный путь к файлу или каталогу.
Позволяет получить ссылку на несуществующий объект по его внутреннему коду.
Позволяет сохранять/восстанавливать ссылку на объект в файл

  	В версии 1.2
Пофиксена ошибка: автоопределения длины и точности при открытии, приводившая к переполнению.

  	В версии 1.3
Поймана пара блошек в коде.

  	В версии 1.4
На форму добавлены владелец и родитель для элемента справочника, а также
представление значения во внешнем формате "ЗначениеВСтроку()".

  	В версии 1.5
Добавлена кнопка для редактирования документов и справочников в универсальных редакторах.

  	В версии 1.6
В строкаовых реквизитах зачастую хранят списки и таблицы значений, преобразовав их функцией
  ЗначениеВСтроку() или ЗначениеВСтрокуСнутр()..
Для их обработки добавлен переключатель на "Базовый" формат для сохранения в файл строк "как есть". 
Потом их можно редактировать при помощи обработок Vlist.ert и VTabl.ert.
Перед считыванием из файла длинной строки, (содержащей СЗ или ТЗ) установите флаг "Многострочные".

Использована недокументированная функция преобразования чисел 10 - 36
Описал: Моисеенко П.П., прислал: Deb - автор внешней компоненты OXY

В обработке предусмотрен вывод готовой команды ссылки на объект в виде сообщения.
Его можно сразу скопировать в текст своего программного модуля. Для таких типов значения, как:
	-  Перечисление
	-  ПланСчетов
	-  Счет
	-  ВидРасчета
	-  Календарь
предусмотрен дополнительно вывод строки команды в традиционном виде.

	Пример
Вместо:

	Стр=СоздатьОбъект("Справочник.Номенклатура");
	Если Спр.НайтиПоКоду(110)=1 Тогда
		ТекТовар = Спр.ТекущийЭлемент();
	Иначе
		// не нашли
	КонецЕсли;

пишем:

	ТекТовар = ЗначениеИзСтроки("{""Справочник"",""Номенклатура"",""  110""}");
или
	ТекТовар = ЗначениеИзСтрокиВнутр("{""B"",""0"",""0"",""33"",""0"",""0"",""      2179   ""}")

Внимание! Применяйте прямые ссылки на объекты только в той базе, где вы их получили этим отчетом!
В других базах ссылки будут возвращать неверное значение (исключения: прямая копия базы либо
"ЗначениеИзСтроки" для объектов с одинаковым кодом, напр. элемент справочника).

	Как этим пользоваться.
Коды для элементов справочника выглядят примерно так
Внутр. код: 	  {"B","0","0","4865","0","0","         5ЦБ "}
	1 тип значения : "B" (т.е. "Справочник");
	2. "0" длина;
	3. "0" точность;
	4. номер таблицы: "4865" (т.е. файл "SC4865.DBF" для DBF-версии или таблица "SC4865" в SQL-версии);
	5. "0" флаг неограниченной дллины (для строк);
	6. "0" разделять триады;
	7. 10-и значное числовое (десятичное) представление значения: "ID", причем 3 последних символа - код
	    ИБ,в которой создан элемент (при использовании УРБД).
Если внутр. код: 	{"B","0","0","0","0","0","         0         0   "}, т.е.
	4. номер таблицы: "0" (неизвестный справочник), тогда
	7. спереди к числовому представлению "ID" добавляется 10-и значный номер таблицы.

Для документов аналогично
{"O","0","0","672","0","0","       649   "}
	1. тип значения : "O" (т.е. "Документ");
	4. номер таблицы: "672" (т.е.  "DH672" - шапка и "DT672" -мн. часть соответственно);
	7. числовое (десятичное) представление значения: "ID" и код ИБ создания.
Имена таблиц и файлов можно посмотреть и в словаре 1Cv7.DD для DBF или 1Cv7.DDS для SQL версии.

Информвция о внутренних кодах имеется на http://www.sinor.ru:8100/~my1c/knowhow/get_id.html
 
	Вычисляем ID пропавшего объекта.
В любом случае придется установить тип и вид объекта (посмотрите в конфигураторе). Это требуется для
определения таблицы, в которой будем искать пропавший объект.
Если тип или вид заданы неявно, то придется сначала отыскать запись со ссылкой на утерянный объект
и по значению поля установить и тип и вид потери (просто внесите информацию из поля таблицы в
соответствующее место диалога "Внутр.код")

Значение поля ID символьное, состоит из двух часnей:
	6 символов - 36-ричное представление кода ID
	3 символа - код ИБ создания (без УРБД - пробелы)
Допустим, имеем сообщение :"<Объект не найден>(10/ЦБ)".
Это значит, что объект создан в ИБ с кодом "ЦБ" и имеет числовой код "10" (десятичный, соответственно
"A" - 36-ричный), т.е ID="     AЦБ ".
Если в соответствующей таблце создать запись с этим значением поля ID, то потерянный объек "найдется".

Если покопаться в журнале регистрации, "Syslog\1Cv7.mlg" то в 8 параметре увидим все те же коды: "B/159/17"
	B - справочник
	156 - номер таблицы "Номенклатура"
	17 - ID элемента (десятичный).

	Автор: Царьков Валерий
Обработка распространяется свободно.
За возможные последствия использования обработки автор ответственности не несет.
Все замечания и предложения направлять: warenic@narod.ru
Адрес проекта: http://warenic.narod.ru
